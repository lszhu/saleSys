<template name="orderManagement">
  <div>
    <h2>订单信息列表
      <button class="btn btn-primary edit-order">增加新订单</button>
    </h2>
    <div id="add-order" class="hidden">
      <div>
        {{> addOrder }}
      </div>
      <div class="col-sm-12"><br></div>
    </div>
    <div class="input-group col-sm-6 attach">
      <span class="input-group-addon" id="order-code-label">搜索</span>
      <input type="text" name="keyword" class="form-control order-keyword"
             placeholder="搜索关键词" aria-describedby="order-code-label">
      <span class="btn btn-primary input-group-addon filter-order">
        查询
      </span>
    </div>
    {{> orderList }}

    <div class="col-xs-4">
      <a class="btn btn-default disabled" href="#">当前共显示 {{itemCount}}
        条信息</a>
    </div>
    {{#if nextPath}}
      <div class="col-xs-4 col-xs-offset-4">
        <a class="btn btn-default btn-block" href="{{nextPath}}">显示更多</a>
      </div>
    {{else}}
      {{#unless ready}}
        {{> loading}}
      {{/unless}}
    {{/if}}
  </div>
</template>

<template name="addOrder">
  <div>
    <strong>编辑销售部门信息</strong>

    <form class="add-order">
      <div class="col-xs-4 attach">
        <div class="input-group {{ hasError 'code'}}">
          <span class="input-group-addon" id="order-code-label">编号</span>
          <input type="text" name="code" class="form-control" placeholder="编号"
                 aria-describedby="order-code-label">
        </div>
      </div>
      <div class="col-xs-4 attach">
        <div class="input-group {{ hasError 'name'}}">
          <span class="input-group-addon" id="order-name-label">姓名</span>
          <input type="text" name="name" class="form-control" placeholder="姓名"
                 aria-describedby="order-name-label">
        </div>
      </div>
      <div class="col-xs-4 attach">
        <div class="input-group {{ hasError 'sex'}}">
          <span class="input-group-addon" id="order-sex-label">性别</span>
          <select name="sex" class="form-control"
                  aria-describedby="order-sex-label">
            <option></option>
            <option>男</option>
            <option>女</option>
          </select>
        </div>
      </div>
      <div class="col-xs-4 attach">
        {{> stationSelect localTitle = '部门' }}
      </div>
      <div class="col-xs-4 attach">
        <div class="input-group {{ hasError 'phone'}}">
          <span class="input-group-addon" id="order-phone-label">电话</span>
          <input type="text" name="phone" class="form-control"
                 placeholder="电话" aria-describedby="order-address-label"/>
        </div>
      </div>
      <div class="col-xs-4 attach">
        <div class="input-group {{ hasError 'email'}}">
          <span class="input-group-addon" id="order-email-label">邮箱</span>
          <input type="text" name="email" class="form-control"
                 placeholder="邮箱" aria-describedby="order-email-label"/>
        </div>
      </div>
      <div class="col-xs-4 attach">
        <div class="input-group {{ hasError 'title'}}">
          <span class="input-group-addon" id="order-title-label">职务</span>
          <input type="text" name="title" class="form-control"
                 placeholder="职务" aria-describedby="order-title-label"/>
        </div>
      </div>
      <div class="col-xs-4 attach">
        <div class="input-group {{ hasError 'salary'}}">
        <span class="input-group-addon"
              id="order-salary-value-label">工资</span>
          <input type="text" name="salaryValue" class="form-control"
                 placeholder="简介"
                 aria-describedby="order-salary-value-label"/>
        </div>
      </div>
      <div class="col-xs-4 attach">
        {{> currencySelect }}
      </div>
      <div class="col-xs-12 attach">
        <div class="input-group {{ hasError 'memo'}}">
          <span class="input-group-addon" id="order-memo-label">备注</span>
          <input type="text" name="memo" class="form-control"
                 placeholder="备注" aria-describedby="order-memo-label"/>
        </div>
      </div>
      {{! 下面的input保存数据库条目的Id，为空表示新增，保存了Id表示覆盖 }}
      <div class="input-group hidden">
        <span class="input-group-addon" id="order-id-label">Id</span>
        <input type="text" name="overlap" class="form-control"
               placeholder="空" aria-describedby="order-id-label">
      </div>
      <div class="col-xs-12"></div>
      <div class="col-sm-4 col-sm-offset-4">
        <button type="submit" class="btn btn-primary btn-block">
          提交新信息
        </button>
      </div>
    </form>
  </div>
</template>

<template name="orderList">
  <table class="table table-striped table-bordered min60">
    <thead>
    <tr>
      <th>编号</th>
      <th>名称</th>
      <th>类型</th>
      <th>客户</th>
      <!--<th>创建者</th>-->
      <th>所属部门</th>
      <!--<th>说明</th>-->
      <th class="width60">状态</th>
      <th class="info text-center width60">管理</th>
    </tr>
    </thead>
    <tbody>
    {{#each orders }}
      {{> orderListItem }}
    {{/each}}
    </tbody>
  </table>
</template>

<template name="orderListItem">
  <tr>
    <td>{{code}}</td>
    <td>{{name}}</td>
    <td>{{type}}</td>
    <td>{{customerName}}</td>
    <td>{{stationName}}</td>
    <td>{{status}}</td>
    <td class="text-center">
      <a href="{{_id}}" class="update-order" title="处理订单">
        <i class="fa fa-share fa-lg"></i>
      </a>
    </td>
  </tr>
</template>